const { hex } = require('./helpers');

// name,
// memberRoleToVote,
// majorityVotePerc,
// quorumPerc,
// categoryABReq,
// actionIpfsHash,
// contractName (code),
// fn signature

const proposalCategories = [
  ['Uncategorized', 1, 60, 15, 0, '', 'MR', ''],
  [
    'Add new member role',
    1,
    60,
    15,
    0,
    'QmQFnBep7AyMYU3LJDuHSpTYatnw65XjHzzirrghtZoR8U',
    'MR',
    'addRole(bytes32,string,address)',
  ],
  [
    'Update member role',
    1,
    60,
    15,
    0,
    'QmXMzSViLBJ22P9oj51Zz7isKTRnXWPHZcQ5hzGvvWD3UV',
    'MR',
    'updateRole(address,uint256,bool)',
  ],
  [
    'Add new category',
    1,
    60,
    15,
    0,
    'QmWMLx6tLNDZCm54mrLndjiTBGFJWZk6pdwsShv17ETSVz',
    'PC',
    'newCategory(string,uint256,uint256,uint256,uint256[],uint256,string,address,bytes2,uint256[],string)',
  ],
  [
    'Edit category',
    1,
    60,
    15,
    0,
    'QmPShfp1ReVHf2cy4j8G6uLtzEVSFZXKCvcp5vSCPwTeDP',
    'PC',
    'editCategory(uint256,string,uint256,uint256,uint256,uint256[],uint256,string,address,bytes2,uint256[],string)',
  ],
  [
    'Upgrade a contract Implementation',
    2,
    50,
    15,
    80,
    'QmYi2YUMZvJoJfYRFWvuhez9Kz8YMDBsHAvdh64188nNMz',
    'MS',
    'upgradeMultipleImplementations(bytes2[],address[])',
  ],
  [
    'Implement Emergency Pause',
    1,
    0,
    15,
    0,
    'QmYMB8dTwJXJpkJcmeBY3LSd5314fKXdUC1KhnQeHnxkET',
    'MS',
    'startEmergencyPause()',
  ],
  [
    'Extend or Switch Off Emergency Pause',
    2,
    50,
    15,
    0,
    'QmUcViL27xtoXK3tPvBNnDr26YWcNiT6qSEDNgBK4UiNo2',
    'MS',
    'addEmergencyPause(bool,bytes4)',
  ],
  [
    'Burn Claims Assessor Bond',
    1,
    80,
    15,
    0,
    'QmezNJUF2BM5Nv9EMnsEKUmuqjvdySzvQFvhEdvFJbau3k',
    'TF',
    'burnCAToken(uint256,uint256,address)',
  ],
  [
    'Pause Claim Assessor Voting for 3 days',
    1,
    60,
    15,
    0,
    'QmRBXh9NGoGV7U7tTurKPhL4bzvDc9n23QZYidELpBPVdg',
    'CD',
    'setUserClaimVotePausedOn(address)',
  ],
  ['Changes to Capital Model', 2, 50, 15, 60, '', 'EX', ''],
  ['Changes to Pricing Model', 2, 50, 15, 60, 'QmYwPEYDfHN1Rp799NFRSjbtwya2p2JQsCP9FqLTfAznaD', 'EX', ''],
  [
    'Withdraw funds to Pay for Support Services',
    2,
    50,
    15,
    80,
    'QmZQhJunZesYuCJkdGwejSATTR8eynUgV8372cHvnAPMaM',
    'P1',
    'transferEther(uint256,address)',
  ],
  [
    'Add Investment Asset',
    2,
    50,
    15,
    60,
    'Qmd66GdYtn1BYmZTB1op1Fbfkq6uywMpow5LRmG2Twbzjb',
    'PD',
    'addInvestmentAssetCurrency(bytes4,address,bool,uint64,uint64,uint8)',
  ],
  [
    'Edit Investment Asset min and max holding percentages',
    2,
    50,
    15,
    60,
    'QmXwyffmk7rYGHE7p4g3oroJkmyEYAn6EffhZu2MCNcJGA',
    'PD',
    'changeInvestmentAssetHoldingPerc(bytes4,uint64,uint64)',
  ],
  [
    'Update Investment Asset Status',
    2,
    50,
    15,
    60,
    'QmZkxcC82WFRvnBahLT3eQ95ZSGMxuAyCYqxvR3tSyhFmB',
    'PD',
    'changeInvestmentAssetStatus(bytes4,bool)',
  ],
  [
    'Change AB Member',
    2,
    50,
    15,
    0,
    'Qmay85jFW1f5n4Jdop9uGUq8T8hpqFkorY6nGjBE7nuYWF',
    'MR',
    'swapABMember(address,address)',
  ],
  [
    'Add Currency Asset',
    2,
    50,
    15,
    0,
    'Qmesm1FRDGVFNpaiHzubxXhqYTikpzFVKqPUJp5zXVfqHh',
    'PD',
    'addCurrencyAssetCurrency(bytes4,address,uint256)',
  ],
  ['Any other Item', 2, 50, 15, 80, 'QmYBx7w7NqhPqXztmgXUtuZDaQYug13DX9BCMYzGgigPCH', 'EX', ''],
  ['Special Resolution', 2, 75, 0, 0, '', 'EX', ''],
  [
    'Update Token Parameters',
    2,
    50,
    15,
    60,
    'QmbfJTXyLTDsq41U4dukHbagcXef8bRfyMdMqcqLd9aKNM',
    'TD',
    'updateUintParameters(bytes8,uint256)',
  ],
  [
    'Update Risk Assessment Parameters',
    2,
    50,
    15,
    60,
    'QmQNQxjPxCPu48UBXAuSugXECM7JbMFx41bsu5avyaodih',
    'TD',
    'updateUintParameters(bytes8,uint256)',
  ],
  [
    'Update Governance Parameters',
    2,
    50,
    15,
    60,
    'QmdFDVEaZnJxXncFczTW6EvrcgR3jBfuPWftR7PfkPfqqT',
    'GV',
    'updateUintParameters(bytes8,uint256)',
  ],
  [
    'Update Quotation Parameters',
    2,
    50,
    15,
    60,
    'QmTtSbBp2Cxaz8HzB4TingUozr9AW91siCfMjjyzf8qqAb',
    'QD',
    'updateUintParameters(bytes8,uint256)',
  ],
  [
    'Update Claims Assessment Parameters',
    2,
    50,
    15,
    60,
    'QmVasvKpHpNbWAm39f6jvmKUCBSeBPp8N2rwtxkFoWUzcN',
    'CD',
    'updateUintParameters(bytes8,uint256)',
  ],
  [
    'Update Investment Module Parameters',
    2,
    50,
    15,
    60,
    'QmYSUJBJD9hUevydfdF34rGFG7bBQhMrxh2ga9XfeAkdEM',
    'PD',
    'updateUintParameters(bytes8,uint256)',
  ],
  [
    'Update Capital Model Parameters',
    2,
    50,
    15,
    60,
    'QmaQH6AdvBdgrW4xdzcMHa7gNyYSGa2fz7gBuuic2hLkZQ',
    'PD',
    'updateUintParameters(bytes8,uint256)',
  ],
  [
    'Update Address Parameters',
    2,
    50,
    15,
    60,
    'Qmbv7PFdkXvJzUHi8dwAGFqthWeDD9Uq5RMtCztQUoaAcZ',
    'MS',
    'updateAddressParameters(bytes8,address)',
  ],
  [
    'Update Owner Parameters',
    2,
    40,
    15,
    0,
    'QmbXSbVKCyJsFrbnEPvFX6a8Xvj2xEXa2T8ia2HaJWzBxo',
    'MS',
    'updateOwnerParameters(bytes8,address)',
  ],
  [
    'Release new smart contract code',
    2,
    50,
    15,
    80,
    'QmXj1MoQ5q5e2jtdCBoBSJrx84bsHnwpty2FAcPdbRHXM8',
    'MS',
    'upgradeMultipleContracts(bytes2[],address[])',
  ],
  [
    'Edit Currency Asset Address',
    1,
    50,
    15,
    60,
    'Qmdb7pFA72hicjfZFX3hKtCqRSuybytviET5N9LN2uEdyy',
    'PD',
    'changeCurrencyAssetAddress(bytes4,address)',
  ],
  [
    'Edit Currency Asset baseMin',
    2,
    50,
    15,
    60,
    'QmeFSwZ21d7XabxVc7eiNKbtfEXUuD8qQXkeHZ5To1vo4t',
    'PD',
    'changeCurrencyAssetBaseMin(bytes4,uint256)',
  ],
  [
    'Edit Investment Asset Address and decimal',
    2,
    50,
    15,
    60,
    'QmYKeU8cFxjSdPnnUELtMAbdwBAXqGNjCMLLH8N8azhdUf',
    'PD',
    'changeInvestmentAssetAddressAndDecimal(bytes4,address,uint8)',
  ],
  [
    'Trading Trigger Check',
    2,
    40,
    15,
    60,
    'QmS4WTj57SBHUtcxhTm5P3cpNtH53LPMf6xFM5zKKjWuwx',
    'PD',
    'externalLiquidityTrade()',
  ],
  [
    'Add new contract',
    2,
    60,
    15,
    60,
    'QmQibhfwQWksWRXuu4sDbWJ6vqYGcac2fARU3QoyELbjqb',
    'MS',
    'addNewInternalContract(bytes2,address,uint256)',
  ],
  [
    'Token Controller Parameters',
    2,
    60,
    15,
    60,
    'QmQxQYq7X1QUJkx4GQZN6PdgrKXhTik2vqgmpAaKqaeXZL',
    'TC',
    'updateUintParameters(bytes8,uint256)',
  ],
  [
    'Update MCR Parameters',
    2,
    60,
    15,
    60,
    'QmP1ef1FqFwevy5bczcsiLAjT4E6pTNfhcRMiyJkBygVPE',
    'TC',
    'updateUintParameters(bytes8,uint256)',
  ],
  ['Upgrade Master', 2, 60, 15, 60, 'Qmdy6PVMFfsowCAvHQXCjNFnqFYCF7UtgRTsNvTp8pU92W', 'MS', 'upgradeTo(address)'],
  ['NXM Funding', 2, 60, 15, 60, 'QmcaBYsen1MacgDdAihUzbggHfqfFiTm48SMdZo7ibf2Y3', 'TC', 'mint(address,uint256)'],
  [
    'Update Pooled Staking parameters',
    2,
    60,
    15,
    60,
    'QmUHYDZ5DMTjgVXUGBqHSkXHzxdzgk85TaXgt8vAfqpjLv',
    'PS',
    'updateUintParameters(bytes8,uint256)',
  ],
  [
    'Add incident',
    2,
    50,
    15,
    60,
    'QmRbZsxQQ4mG9QPWrd1hvst9WNxusM96PhMUzrz82zRzGJ',
    'IC',
    'addIncident(address,uint256,uint256)',
  ],
  [
    'Withdraw depegged asset',
    1,
    60,
    15,
    0,
    'QmQh5SxxKNgi6ZBHc9j7LeZ63zkJTtgUS1uCLAhy24UwPy',
    'IC',
    'withdrawAsset(address,address,uint256)',
    1,
  ],
];

module.exports = proposalCategories.map(category => {
  const [
    name,
    memberRoleToVote,
    majorityVotePerc,
    quorumPerc,
    categoryABReq,
    actionIpfsHash,
    contractName,
    fnSignature,
    allowedToCreateProposal = [2],
  ] = category;

  const closingTime = 300; // 259200 on mainnet (3 days)
  const isSpecialResolution = quorumPerc === 0 ? 1 : 0;
  const zeroAddress = '0x' + '0'.repeat(40);

  return [
    name,
    memberRoleToVote,
    majorityVotePerc,
    quorumPerc,
    allowedToCreateProposal,
    closingTime,
    actionIpfsHash,
    zeroAddress,
    hex(contractName),
    [0, 0, categoryABReq, isSpecialResolution],
    fnSignature,
  ];
});
